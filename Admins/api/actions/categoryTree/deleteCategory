import * as categoryDB from './../../DbApi/Categories';
let ids = [];

export default function deleteCategory(req) {
  return new Promise((resolve, reject) => {
    // console.log('my res: ' + JSON.stringify(req.body));

    categoryDB.getCategories().then(data => {
      for(let category in data) {
        if(category.parentId === req.body.id) {
          categoryDB.deleteCategory(category._id);
        }
      }
    }).catch(error => {
      reject('error in deleteCategory: ' + error);
    });
  });
}

function findNode(id) {
  for(let category in data) {
    if(category.parentId === req.body.id) {
      categoryDB.deleteCategory(category._id);
    }
  }
}